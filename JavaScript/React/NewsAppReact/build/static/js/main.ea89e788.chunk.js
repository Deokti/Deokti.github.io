(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/news-img.cd45b922.jpg"},function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),s=n(1),l=n(2),o=n(4),u=n(3),m=(n(15),function(e){var t=e.name,n=e.label,a=e.activeClass;return r.a.createElement("span",{className:a,"data-cetegory":t},n)}),d=(n(16),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).categoryLinks=[{name:"general",label:"\u041e\u0431\u0449\u0438\u0435"},{name:"sports",label:"\u0421\u043f\u043e\u0440\u0442"},{name:"entertainment",label:"\u0420\u0430\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f"},{name:"technology",label:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"},{name:"science",label:"\u041d\u0430\u0443\u043a\u0430"},{name:"business",label:"\u0411\u0438\u0437\u043d\u0435\u0441"}],e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onChangeCategory,n=e.checkCurrentCategory,a=this.categoryLinks.map((function(e){var a=e.name,c=e.label,i=n===a?"nav-link-active":"";return r.a.createElement("li",{className:"nav-item",key:a,onClick:function(){return t(a)}},r.a.createElement(m,{activeClass:"nav-link ".concat(i),name:a,label:c}))}));return r.a.createElement("ul",{className:"nav-list d-flex ul-none a-item-center"},a)}}]),n}(a.Component)),h=(n(17),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),n}(a.Component)),p=n(5),v=n.n(p),f=n(6),g=function(e){return Object(f.a)(v.a.mark((function t(){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=new Request(e),t.next=4,fetch(n);case 4:return a=t.sent,t.abrupt("return",a.json());case 8:throw t.prev=8,t.t0=t.catch(0),new Error("\n        An error has occurred: ".concat(t.t0,"\n        \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ").concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},y="7b49a3a1f5dd40cdbd91ece9d0c9b625",b="https://news-api-v2.herokuapp.com",E=function(){function e(){var t=this;Object(s.a)(this,e),this._transformNews=function(e){return{author:null===e.author?e.source.name:e.author,title:e.title,description:e.description,url:e.url,urlToImage:e.urlToImage,publishedAt:t._transfrormPublishedAt(e.publishedAt)}},this._transfrormPublishedAt=function(e){var t=new Date(e),n=t.getFullYear(),a=["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"][t.getMonth()+1],r=t.getDate();return"".concat(a," ").concat(r,", ").concat(n)},this.KEY=y,this.URL=b}return Object(l.a)(e,[{key:"topHeadlines",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(this.URL,"/top-headlines?country=ru&category=").concat(t,"&pageSize=100&apiKey=").concat(this.KEY));case 2:if(n=e.sent,console.log(n),"ok"!==n.status){e.next=8;break}return e.abrupt("return",n.articles.map(this._transformNews));case 8:throw new Error("\n      EN: Error! Server status in topHeadlines: ".concat(n.status,", \n      RU: \u041e\u0448\u0438\u0431\u043a\u0430! \u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 topHeadlines: ").concat(n.status));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"everything",value:function(){var e=Object(f.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("".concat(this.URL,"/everything?q=").concat(t,"&pageSize=100&apiKey=").concat(this.KEY));case 2:if("ok"!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.articles);case 7:throw new Error("\n      EN: Error! Server status in everything: ".concat(n.status,", \n      RU: \u041e\u0448\u0438\u0431\u043a\u0430! \u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 everything: ").concat(n.status));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),w=function(e){return e.replace(/,\s*$/,"").trim()},k=function(e,t){var n={title:"title",description:"description",author:"author"};return"title"===n[t]?w(e.substring(0,55)):"description"===n[t]?null===e?"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442, \u043a\u043b\u0438\u043a\u043d\u0443\u0432 \u043d\u0430 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a.":w(e.substring(0,105)||""):"author"===n[t]?null===e?"":w(e.substring(0,25)||"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"):e},_=n(9),N=n.n(_),j=(n(19),function(e){var t=e.array;if(!t)return!1;var n=0;return t.map((function(e){var t=e.author,a=e.description,c=e.publishedAt,i=e.title,s=e.url,l=e.urlToImage,o=null===l?N.a:l;return r.a.createElement("li",{className:"news-item",key:n++},r.a.createElement("div",{className:"news-item__img",style:{backgroundImage:'url("'.concat(o,'")')}}),r.a.createElement("div",{className:"news-item__template"},r.a.createElement("ul",{className:"news-item__information ul-none d-flex"},r.a.createElement("li",{className:"news-item__person news-item__date"},c),r.a.createElement("li",{className:"news-item__person news-item__user"},k(t,"author"))),r.a.createElement("div",{className:"news-item__detailed"},r.a.createElement("h2",{className:"news-item__title"},r.a.createElement("a",{href:s,className:"news-item__link",target:"blank",title:i},k(i,"title"))),r.a.createElement("p",{className:"news-item__description"},k(a,"description"),"..."))))}))}),O=(n(20),function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),x=function(){var e=document.createElement("div");e.style.width="40px",e.style.height="40px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return e.remove(),t},C=(n(21),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).services=new E,e.state={newsList:null,loading:!0,paddingRight:0},e}return Object(l.a)(n,[{key:"newsItems",value:function(){var e=this;this.setState({paddingRight:x()});var t=this.props.category;if(!t)return!1;this.services.topHeadlines(t).then((function(t){return e.setState({newsList:t,loading:!1,paddingRight:0})}))}},{key:"componentDidMount",value:function(){this.newsItems()}},{key:"componentWillUpdate",value:function(e){var t=this;this.props.category!==e.category&&setTimeout((function(){t.setState({loading:!0}),t.newsItems()}),200)}},{key:"render",value:function(){var e=this.state,t=e.newsList,n=e.loading,a=e.paddingRight,c=n?r.a.createElement(O,null):null,i=c?null:r.a.createElement(j,{array:t});return document.body.style.paddingRight="".concat(a,"px"),r.a.createElement("ul",{style:{paddingRight:a},className:"news__wrapper ul-none d-flex j-content-between a-item-center flex-wrap"},c,i)}}]),n}(a.Component)),R=(n(22),n(23),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={category:"general"},e}return Object(l.a)(n,[{key:"onChangeCategory",value:function(e){this.setState({category:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__wrapper d-flex a-item-center"},r.a.createElement("h1",{className:"header-title"},r.a.createElement("a",{className:"header-title-link",href:"./index.html"},"\u041d\u041e\u0412\u041e\u0421\u0422\u0418")),r.a.createElement("nav",{className:"nav m-auto"},r.a.createElement(d,{onChangeCategory:function(t){return e.onChangeCategory(t)},checkCurrentCategory:this.state.category})),r.a.createElement("div",{className:"detailed-container d-flex"},r.a.createElement(h,null))))),r.a.createElement("section",{className:"news"},r.a.createElement("div",{className:"container"},r.a.createElement(C,{category:this.state.category}))))}}]),n}(a.Component));i.a.render(r.a.createElement(R,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.ea89e788.chunk.js.map